# ==================================================
# Email Automation MVP - Environment Configuration
# ==================================================
# Copy this file to .env and update the values for your environment
#
# This application supports both local development and production deployment
# Most URLs are auto-detected, but you can override them if needed

# --------------------------------------------------
# FRONTEND CONFIGURATION (React)
# --------------------------------------------------

# API Base URL - Backend service endpoint
#
# AUTO-DETECTED if not set:
#   - Local: http://127.0.0.1:5000
#   - Production: Same hostname as frontend
#
# Only set this if you need to override (e.g., backend on different domain)
# REACT_APP_API_URL=http://127.0.0.1:5000
# REACT_APP_API_URL=https://your-backend.azurecontainerapps.io

# --------------------------------------------------
# BACKEND CONFIGURATION (Flask)
# --------------------------------------------------

# OnlyOffice Document Server URL
#
# For local development (Docker):
# ONLYOFFICE_SERVER_URL=http://localhost:8080
#
# For Azure Container Apps deployment:
# ONLYOFFICE_SERVER_URL=https://your-onlyoffice-container.azurecontainerapps.io
ONLYOFFICE_SERVER_URL=http://localhost:8080

# Backend Base URL (for OnlyOffice to callback)
#
# AUTO-DETECTED with smart Docker handling:
# - Production: Uses X-Forwarded-Host from reverse proxy
# - Local (Docker Desktop): Automatically converts localhost to host.docker.internal
# - Local (Docker Linux): Use your network IP (192.168.x.x)
#
# Only set this if auto-detection doesn't work:
# BACKEND_BASE_URL=http://192.168.1.34:5000  # For Linux Docker or custom network
# BACKEND_BASE_URL=https://your-backend.azurecontainerapps.io  # Production
#
# NOTE: For Windows/Mac Docker Desktop, auto-detection handles this automatically!

# Upload folder for document storage
# UPLOAD_FOLDER=./uploads

# Flask host and port
# HOST=0.0.0.0
# PORT=5000

# Debug mode (DO NOT enable in production)
# DEBUG=False

# --------------------------------------------------
# CORS Configuration
# --------------------------------------------------

# Allowed origins for CORS (comma-separated)
#
# Default includes localhost for development
# Add your production domains here:
# ALLOWED_ORIGINS=http://localhost:3000,https://your-frontend.azurecontainerapps.io
# ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# --------------------------------------------------
# AZURE DEPLOYMENT (Optional)
# --------------------------------------------------

# These are only needed when deploying to Azure Container Apps
# The deployment scripts will handle these automatically

# ACR_REGISTRY_URL=yourregistry.azurecr.io
# ACR_USERNAME=yourregistry
# ACR_PASSWORD=your_password

# RESOURCE_GROUP=your-resource-group
# LOCATION=eastus
# CONTAINER_APP_ENVIRONMENT=your-container-env

# ==================================================
# DEPLOYMENT MODES
# ==================================================
#
# LOCAL DEVELOPMENT:
#   - Frontend: http://localhost:3000 (auto-connects to backend on :5000)
#   - Backend: http://127.0.0.1:5000 (auto-detects frontend origin)
#   - OnlyOffice: http://localhost:8080 (Docker)
#
# PRODUCTION (Azure Container Apps):
#   - Set ONLYOFFICE_SERVER_URL to your OnlyOffice container URL
#   - Frontend and backend auto-detect each other
#   - Ensure ALLOWED_ORIGINS includes your frontend URL
#
# ==================================================
